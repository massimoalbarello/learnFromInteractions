@prefix td: <https://www.w3.org/2019/wot/td#> .
@prefix htv: <http://www.w3.org/2011/http#> .
@prefix hctl: <https://www.w3.org/2019/wot/hypermedia#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix wotsec: <https://www.w3.org/2019/wot/security#> .
@prefix js: <https://www.w3.org/2019/wot/json-schema#> .
@prefix saref: <https://saref.etsi.org/core/v3.1.1/#> .
@prefix purl: <http://purl.org/iot/vocab/m3-lite#> .
@prefix staroch: <http://paul.staroch.name/thesis/SmartHomeWeather.owl#> .

<urn:weather_station> a td:Thing ;
    dct:title "weather_station" ;
    td:hasSecurityConfiguration [ a wotsec:NoSecurityScheme ] ;
    td:hasBase <http://semantics.interactions.ics.unisg.ch/> ;
    td:hasPropertyAffordance [ 

        a td:PropertyAffordance, saref:Light;
        td:name "lightValue";
        td:description "last light measurement";
        td:hasForm [
            htv:methodName "GET" ;
            hctl:hasTarget <http://10.2.2.33:1880/InfluxDB?measurement=weather_station&field=light_level> ;
            hctl:forContentType "application/json";
            hctl:hasOperationType td:readProperty;
        ] ;
        js:properties [ 
            a js:ObjectSchema;
            js:propertyName "lastMeasurement";
            js:properties [
                a js:NumberSchema ;
                js:propertyName "value"; 
            ], [
                a js:StringSchema ;
                js:propertyName "time";
            ] ;
        ];   
        td:isObservable false;
    ], [ 
        a td:PropertyAffordance, saref:Light;
        td:name "lightStream";
        td:description "stream of light measurements in the last hour";
        td:hasForm [
            htv:methodName "GET" ;
            hctl:hasTarget <http://10.2.2.33:1880/InfluxDB?measurement=weather_station&field=light_level&duration=1> ;
            hctl:forContentType "application/json";
            hctl:hasOperationType td:readProperty;
        ] ;
        js:properties [ 
            a js:ArraySchema;
            js:propertyName "lastMeasurements";
            js:items [
                js:properties [
                    a js:NumberSchema ;
                    js:propertyName "value"; 
                ], [
                    a js:StringSchema ;
                    js:propertyName "time";
                ] ;
            ];
        ];   
        td:isObservable false;
    ],

    [ 
        a td:PropertyAffordance, saref:Temperature;
        td:name "temperatureValue";
        td:description "last temperature measurement";
        td:hasForm [
            htv:methodName "GET" ;
            hctl:hasTarget <http://10.2.2.33:1880/InfluxDB?measurement=weather_station&field=temperature> ;
            hctl:forContentType "application/json";
            hctl:hasOperationType td:readProperty;
        ] ;
        js:properties [ 
            a js:ObjectSchema;
            js:propertyName "lastMeasurement";
            js:properties [
                a js:NumberSchema ;
                js:propertyName "value"; 
            ], [
                a js:StringSchema ;
                js:propertyName "time";
            ] ;
        ];   
        td:isObservable false;
    ], [ 
        a td:PropertyAffordance, saref:Temperature;
        td:name "temperatureStream";
        td:description "stream of temperature measurements in the last hour";
        td:hasForm [
            htv:methodName "GET" ;
            hctl:hasTarget <http://10.2.2.33:1880/InfluxDB?measurement=weather_station&field=temperature&duration=1> ;
            hctl:forContentType "application/json";
            hctl:hasOperationType td:readProperty;
        ] ;
        js:properties [ 
            a js:ArraySchema;
            js:propertyName "lastMeasurements";
            js:items [
                js:properties [
                    a js:NumberSchema ;
                    js:propertyName "value"; 
                ], [
                    a js:StringSchema ;
                    js:propertyName "time";
                ] ;
            ];
        ];   
        td:isObservable false;
    ],

    [ 
        a td:PropertyAffordance, purl:SunPositionElevation;
        td:name "sunElevationValue";
        td:description "last sun elevation measurement";
        td:hasForm [
            htv:methodName "GET" ;
            hctl:hasTarget <http://10.2.2.33:1880/InfluxDB?measurement=weather_station&field=sun_elevation> ;
            hctl:forContentType "application/json";
            hctl:hasOperationType td:readProperty;
        ] ;
        js:properties [ 
            a js:ObjectSchema;
            js:propertyName "lastMeasurement";
            js:properties [
                a js:NumberSchema ;
                js:propertyName "value"; 
            ], [
                a js:StringSchema ;
                js:propertyName "time";
            ] ;
        ];   
        td:isObservable false;
    ], [ 
        a td:PropertyAffordance, purl:SunPositionElevation;
        td:name "sunElevationStream";
        td:description "stream of sun elevation measurements in the last hour";
        td:hasForm [
            htv:methodName "GET" ;
            hctl:hasTarget <http://10.2.2.33:1880/InfluxDB?measurement=weather_station&field=sun_elevation&duration=1> ;
            hctl:forContentType "application/json";
            hctl:hasOperationType td:readProperty;
        ] ;
        js:properties [ 
            a js:ArraySchema;
            js:propertyName "lastMeasurements";
            js:items [
                js:properties [
                    a js:NumberSchema ;
                    js:propertyName "value"; 
                ], [
                    a js:StringSchema ;
                    js:propertyName "time";
                ] ;
            ];
        ];   
        td:isObservable false;
    ],

    [ 
        a td:PropertyAffordance, purl:DirectionAzimuth;
        td:name "sunAzimuthValue";
        td:description "last sun azimuth measurement";
        td:hasForm [
            htv:methodName "GET" ;
            hctl:hasTarget <http://10.2.2.33:1880/InfluxDB?measurement=weather_station&field=sun_azimuth> ;
            hctl:forContentType "application/json";
            hctl:hasOperationType td:readProperty;
        ] ;
        js:properties [ 
            a js:ObjectSchema;
            js:propertyName "lastMeasurement";
            js:properties [
                a js:NumberSchema ;
                js:propertyName "value"; 
            ], [
                a js:StringSchema ;
                js:propertyName "time";
            ] ;
        ];   
        td:isObservable false;
    ], [ 
        a td:PropertyAffordance, purl:DirectionAzimuth;
        td:name "sunAzimuthStream";
        td:description "stream of sun azimuth measurements in the last hour";
        td:hasForm [
            htv:methodName "GET" ;
            hctl:hasTarget <http://10.2.2.33:1880/InfluxDB?measurement=weather_station&field=sun_azimuth&duration=1> ;
            hctl:forContentType "application/json";
            hctl:hasOperationType td:readProperty;
        ] ;
        js:properties [ 
            a js:ArraySchema;
            js:propertyName "lastMeasurements";
            js:items [
                js:properties [
                    a js:NumberSchema ;
                    js:propertyName "value"; 
                ], [
                    a js:StringSchema ;
                    js:propertyName "time";
                ] ;
            ];
        ];   
        td:isObservable false;
    ],

    [ 
        a td:PropertyAffordance, purl:SolarRadiation;
        td:name "sunRadiationValue";
        td:description "last sun radiation measurement";
        td:hasForm [
            htv:methodName "GET" ;
            hctl:hasTarget <http://10.2.2.33:1880/InfluxDB?measurement=weather_station&field=sun_radiation> ;
            hctl:forContentType "application/json";
            hctl:hasOperationType td:readProperty;
        ] ;
        js:properties [ 
            a js:ObjectSchema;
            js:propertyName "lastMeasurement";
            js:properties [
                a js:NumberSchema ;
                js:propertyName "value"; 
            ], [
                a js:StringSchema ;
                js:propertyName "time";
            ] ;
        ];   
        td:isObservable false;
    ], [ 
        a td:PropertyAffordance, purl:SolarRadiation;
        td:name "sunRadiationStream";
        td:description "stream of sun radiation measurements in the last hour";
        td:hasForm [
            htv:methodName "GET" ;
            hctl:hasTarget <http://10.2.2.33:1880/InfluxDB?measurement=weather_station&field=sun_radiation&duration=1> ;
            hctl:forContentType "application/json";
            hctl:hasOperationType td:readProperty;
        ] ;
        js:properties [ 
            a js:ArraySchema;
            js:propertyName "lastMeasurements";
            js:items [
                js:properties [
                    a js:NumberSchema ;
                    js:propertyName "value"; 
                ], [
                    a js:StringSchema ;
                    js:propertyName "time";
                ] ;
            ];
        ];   
        td:isObservable false;
    ],

    [ 
        a td:PropertyAffordance, purl:WindSpeed;
        td:name "windSpeedValue";
        td:description "last wind speed measurement";
        td:hasForm [
            htv:methodName "GET" ;
            hctl:hasTarget <http://10.2.2.33:1880/InfluxDB?measurement=weather_station&field=wind_speed> ;
            hctl:forContentType "application/json";
            hctl:hasOperationType td:readProperty;
        ] ;
        js:properties [ 
            a js:ObjectSchema;
            js:propertyName "lastMeasurement";
            js:properties [
                a js:NumberSchema ;
                js:propertyName "value"; 
            ], [
                a js:StringSchema ;
                js:propertyName "time";
            ] ;
        ];   
        td:isObservable false;
    ], [ 
        a td:PropertyAffordance, purl:WindSpeed;
        td:name "windSpeedStream";
        td:description "stream of wind speed measurements in the last hour";
        td:hasForm [
            htv:methodName "GET" ;
            hctl:hasTarget <http://10.2.2.33:1880/InfluxDB?measurement=weather_station&field=wind_speed&duration=1> ;
            hctl:forContentType "application/json";
            hctl:hasOperationType td:readProperty;
        ] ;
        js:properties [ 
            a js:ArraySchema;
            js:propertyName "lastMeasurements";
            js:items [
                js:properties [
                    a js:NumberSchema ;
                    js:propertyName "value"; 
                ], [
                    a js:StringSchema ;
                    js:propertyName "time";
                ] ;
            ];
        ];   
        td:isObservable false;
    ],

    [ 
        a td:PropertyAffordance, staroch:Rain;
        td:name "rainIntensityValue";
        td:description "last rain intensity measurement";
        td:hasForm [
            htv:methodName "GET" ;
            hctl:hasTarget <http://10.2.2.33:1880/InfluxDB?measurement=weather_station&field=rain_intensity> ;
            hctl:forContentType "application/json";
            hctl:hasOperationType td:readProperty;
        ] ;
        js:properties [ 
            a js:ObjectSchema;
            js:propertyName "lastMeasurement";
            js:properties [
                a js:NumberSchema ;
                js:propertyName "value"; 
            ], [
                a js:StringSchema ;
                js:propertyName "time";
            ] ;
        ];   
        td:isObservable false;
    ], [ 
        a td:PropertyAffordance, staroch:Rain;
        td:name "rainIntensityStream";
        td:description "stream of rain intensity measurements in the last hour";
        td:hasForm [
            htv:methodName "GET" ;
            hctl:hasTarget <http://10.2.2.33:1880/InfluxDB?measurement=weather_station&field=rain_intensity&duration=1> ;
            hctl:forContentType "application/json";
            hctl:hasOperationType td:readProperty;
        ] ;
        js:properties [ 
            a js:ArraySchema;
            js:propertyName "lastMeasurements";
            js:items [
                js:properties [
                    a js:NumberSchema ;
                    js:propertyName "value"; 
                ], [
                    a js:StringSchema ;
                    js:propertyName "time";
                ] ;
            ];
        ];   
        td:isObservable false;
    ].